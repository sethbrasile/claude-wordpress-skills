---
phase: 05-woocommerce-development
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - skills/wp-woocommerce-dev/references/wc-extension-guide.md
  - skills/wp-woocommerce-dev/references/wc-template-guide.md
  - skills/wp-woocommerce-dev/references/wc-performance-guide.md
autonomous: true

must_haves:
  truths:
    - "Each reference doc provides deep-dive coverage that extends SKILL.md patterns"
    - "Reference docs follow cookbook format: quick reference table + detailed patterns + edge cases + WC nuances"
    - "PHP code examples follow WordPress PHP Coding Standards with BAD/GOOD pairs"
    - "HPOS compatibility patterns are thoroughly documented with migration checklist"
    - "Payment gateway security anti-patterns are documented at code level (not PCI audit)"
    - "Cart fragments analysis includes problem description, solutions, and Mini-Cart Block alternative"
    - "Cross-references to prior skills (security, plugin, block, theme, performance) present where relevant"
  artifacts:
    - path: "skills/wp-woocommerce-dev/references/wc-extension-guide.md"
      provides: "Complete extension development patterns: HPOS, payment gateways, shipping methods, product types, orders, cart, REST API, Blocks integration, Action Scheduler, webhooks"
      min_lines: 500
    - path: "skills/wp-woocommerce-dev/references/wc-template-guide.md"
      provides: "Template override patterns: hierarchy, override procedure, hooks-first philosophy, shop/product/cart/checkout theming, email templates"
      min_lines: 350
    - path: "skills/wp-woocommerce-dev/references/wc-performance-guide.md"
      provides: "Performance optimization: cart fragments, WC_Product_Query, HPOS performance, sessions, Action Scheduler, caching strategies"
      min_lines: 350
  key_links:
    - from: "skills/wp-woocommerce-dev/references/wc-extension-guide.md"
      to: "Other reference docs"
      via: "Cross-references to wc-template-guide, wc-performance-guide"
      pattern: "See.*guide\\.md"
    - from: "skills/wp-woocommerce-dev/references/wc-extension-guide.md"
      to: "skills/wp-security-review"
      via: "Security cross-references for payment data handling"
      pattern: "wp-security-review|/wp-sec-review"
    - from: "skills/wp-woocommerce-dev/references/wc-template-guide.md"
      to: "skills/wp-theme-development"
      via: "Theme cross-references for template override patterns"
      pattern: "wp-theme-development|/wp-theme-review"
    - from: "skills/wp-woocommerce-dev/references/wc-performance-guide.md"
      to: "skills/wp-performance-review"
      via: "Performance cross-references for general query optimization"
      pattern: "wp-performance-review|/wp-perf-review"
---

<objective>
Create the 3 reference documents for wp-woocommerce-dev -- deep-dive companion guides that extend the SKILL.md with comprehensive patterns, edge cases, and WooCommerce-specific nuances for extension development, template theming, and performance optimization.

Purpose: Reference docs are loaded by Claude on-demand when deeper analysis is needed. They provide the exhaustive pattern catalog that would be too large for SKILL.md itself. These docs cover WooCommerce extension architecture, template override system, and performance optimization organized by concern.

Output: 3 markdown files in `skills/wp-woocommerce-dev/references/` totaling ~1500+ lines of WooCommerce development guidance.
</objective>

<execution_context>
@/Users/seth/.claude/get-shit-done/workflows/execute-plan.md
@/Users/seth/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-woocommerce-development/05-CONTEXT.md
@.planning/phases/05-woocommerce-development/05-RESEARCH.md
@skills/wp-plugin-development/references/architecture-patterns.md
@skills/wp-theme-development/references/template-patterns.md
@skills/wp-performance-review/references/wp-query-guide.md
@skills/wp-security-review/references/vulnerability-patterns.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create wc-extension-guide.md reference doc</name>
  <files>skills/wp-woocommerce-dev/references/wc-extension-guide.md</files>
  <action>
Create the extension development reference doc following the cookbook format established by prior skills (quick reference table + detailed patterns + edge cases + WC nuances). Use 05-RESEARCH.md as primary content source.

**wc-extension-guide.md (WOO-26)**

Structure:
1. **Quick Reference Table** -- Extension development patterns with: Pattern | API/Class | Severity if Missing | Example. Cover: HPOS declaration, order CRUD, product CRUD, payment gateway, shipping method, custom product type, cart operations, REST API, Blocks integration, Action Scheduler, webhook security.

2. **HPOS Compatibility (WOO-16)** -- The most critical section.
   - Why HPOS matters: default since WC 8.2 (Oct 2023), custom order tables (wp_wc_orders, wp_wc_orders_meta), 5x faster order creation, 40x faster filtering
   - declare_compatibility() pattern: in before_woocommerce_init hook, check class_exists for FeaturesUtil
   - CRUD-only order access: wc_get_order(), wc_get_orders(), WC_Order methods
   - Meta operations: $order->get_meta(), $order->update_meta_data(), $order->add_meta_data(), $order->delete_meta_data(), $order->save()
   - OrderUtil::custom_orders_table_usage_is_enabled() for conditional logic
   - Migration checklist: replace get_posts, replace WP_Query, replace get_post_meta/update_post_meta, replace direct $wpdb, add declare_compatibility
   - BAD: every pattern that breaks HPOS. GOOD: CRUD equivalents.
   - Compatibility mode: how code should work in both HPOS and legacy modes

3. **Payment Gateway Development (WOO-03, WOO-19)** --
   - WC_Payment_Gateway lifecycle: constructor -> init_form_fields() -> init_settings() -> process_payment()
   - Constructor: $this->id, $this->has_fields, $this->method_title, $this->method_description, $this->supports array
   - init_form_fields(): Setting types (text, password, checkbox, select, textarea, title)
   - process_payment($order_id): Must return array('result' => 'success'|'failure', 'redirect' => url). Get order via wc_get_order(). Use payment_complete($txn_id) not manual status.
   - Refund handling: process_refund($order_id, $amount, $reason). Return true|WP_Error.
   - Saved payment methods: WC_Payment_Token, $this->supports = array('tokenization'). Token types: WC_Payment_Token_CC, WC_Payment_Token_eCheck.
   - Security anti-patterns (CRITICAL): storing card_number/cvv/expiry in database, error_log() with card data, $_POST['card_number'] without tokenization, card data in sessions, transmitting over HTTP
   - Security best practices: tokenization via gateway API, is_ssl() check, get_option() for API keys (not hardcoded), webhook signature verification
   - BAD/GOOD pairs for every anti-pattern. Cross-reference wp-security-review.

4. **Shipping Method Development (WOO-04)** --
   - WC_Shipping_Method class: constructor with instance_id, $this->supports = array('shipping-zones', 'instance-settings')
   - calculate_shipping($package): access $package['destination'], $package['contents'], calculate cost, $this->add_rate()
   - Rate array: id, label, cost, calc_tax ('per_order' or 'per_item'), meta_data
   - Instance settings for per-zone configuration
   - Shipping class support for different rates per shipping class
   - BAD: hardcoded shipping cost without zone support. GOOD: zone-aware with instance settings.

5. **Custom Product Types (WOO-02)** --
   - Product type class hierarchy: WC_Product -> WC_Product_Simple, WC_Product_Variable, WC_Product_Grouped, WC_Product_External
   - register_product_type(): add product type to woocommerce_product_class filter
   - Custom data stores: WC_Object_Data_Store_Interface, woocommerce_data_stores filter
   - Product data: custom fields via woocommerce_product_options_* hooks, save via woocommerce_process_product_meta
   - BAD: custom post type for products. GOOD: extending WC_Product with proper data store.

6. **Order Handling (WOO-07)** --
   - WC_Order CRUD: wc_get_order(), wc_create_order(), $order->set_*() methods
   - Status transitions: wc_get_order_statuses(), $order->set_status(), woocommerce_order_status_changed action
   - Custom order statuses: register_post_status() + wc_order_statuses filter
   - Order items: $order->add_item(), $order->get_items(), WC_Order_Item_Product, WC_Order_Item_Fee, WC_Order_Item_Shipping
   - Order notes: $order->add_order_note(), customer vs internal notes
   - Batch operations with save(): group all changes, single save() call
   - BAD: individual update_post_meta() calls. GOOD: batch update_meta_data() + save().

7. **Cart Operations (WOO-08)** --
   - WC()->cart methods: add_to_cart(), get_cart(), get_cart_contents_count(), calculate_totals(), empty_cart()
   - Cart item data: woocommerce_add_cart_item_data filter for custom data, woocommerce_get_item_data for display
   - Cart fees: woocommerce_cart_calculate_fees action, WC()->cart->add_fee()
   - Cart validation: woocommerce_check_cart_items action, woocommerce_add_to_cart_validation filter
   - AJAX add-to-cart: nonce verification required (cross-reference wp-security-review)
   - BAD: direct session manipulation. GOOD: cart API methods.

8. **WooCommerce REST API Extensions (WOO-09, surface-level)** --
   - v3 endpoints: /wp-json/wc/v3/
   - Custom endpoint registration via register_rest_route() in woocommerce_rest_api_get_rest_namespaces filter
   - Authentication: Basic Auth (development), OAuth 1.0a (production), HTTPS enforcement
   - Cross-reference wp-plugin-development for REST API patterns, wp-security-review for permission_callback

9. **WooCommerce Blocks Integration (WOO-14, surface-level)** --
   - Block-based cart and checkout: bypasses template overrides
   - Store API: REST API for block cart/checkout, extension points
   - Additional Checkout Fields API (WC 8.6+): woocommerce_register_additional_checkout_field()
   - Compatibility declaration for block cart/checkout
   - Cross-reference wp-block-development for general block patterns

10. **Action Scheduler Patterns** --
    - Why: ships with WC, reliable background processing, retry logic, admin UI, traceable
    - as_schedule_single_action($timestamp, $hook, $args, $group)
    - as_enqueue_async_action($hook, $args, $group) for immediate background processing
    - as_schedule_recurring_action() for repeated tasks
    - Batch processing pattern: process N items, schedule next batch if more remain
    - Migration from wp_cron: replace wp_schedule_event with as_schedule_recurring_action, replace wp_schedule_single_event with as_schedule_single_action
    - BAD: wp_cron for bulk order processing. GOOD: Action Scheduler with batching.

11. **Webhook Security** --
    - X-WC-Webhook-Signature header: HMAC-SHA256 with base64 encoding
    - Verification: hash_equals() to prevent timing attacks
    - Duplicate delivery: X-WC-Webhook-Delivery-ID + transients
    - Async processing: verify -> store delivery ID -> Action Scheduler for actual processing -> respond 200
    - BAD: processing webhook without verification. GOOD: full verification + async pattern.

12. **Coupon/Discount Validation (WOO-21, surface-level)** --
    - woocommerce_coupon_is_valid filter
    - Custom coupon types via woocommerce_coupon_discount_types filter
    - Validation logic: throw Exception with message and error code
    - BAD: bypassing coupon validation. GOOD: proper validation hook.

All PHP examples follow WordPress PHP Coding Standards. BAD/GOOD pairs throughout. Cross-references to wp-security-review for payment and auth patterns, wp-plugin-development for extension architecture.
  </action>
  <verify>
- `skills/wp-woocommerce-dev/references/wc-extension-guide.md` exists with 500+ lines
- File has quick reference table at the top
- Uses cookbook format (table + patterns + edge cases)
- PHP examples follow WordPress PHP Coding Standards
- BAD/GOOD pairs present throughout
- HPOS section is comprehensive with migration checklist
- Payment gateway section covers security anti-patterns
- Shipping method section covers calculate_shipping() pattern
- Custom product type section covers WC_Product extension
- Order handling covers CRUD operations
- Cart operations cover cart API
- Action Scheduler covers migration from wp_cron
- Webhook security covers signature verification
- Cross-references to wp-security-review and wp-plugin-development present
  </verify>
  <done>
wc-extension-guide.md provides complete WooCommerce extension development reference with HPOS compatibility (declare_compatibility, CRUD-only access, migration checklist), payment gateway development (WC_Payment_Gateway lifecycle, process_payment flow, refund handling, saved payment methods, security anti-patterns), shipping method development (WC_Shipping_Method, calculate_shipping, zones), custom product types (register_product_type, data stores), order handling (WC_Order CRUD, status transitions, custom statuses), cart operations (cart item data, fees, validation), REST API extensions, WC Blocks integration, Action Scheduler patterns, webhook security, and coupon validation. All follow cookbook format with WordPress PHP Coding Standards and BAD/GOOD pairs.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create wc-template-guide.md and wc-performance-guide.md reference docs</name>
  <files>
    skills/wp-woocommerce-dev/references/wc-template-guide.md
    skills/wp-woocommerce-dev/references/wc-performance-guide.md
  </files>
  <action>
Create both reference docs following the same cookbook format. Use 05-RESEARCH.md as primary content source.

**File 1: wc-template-guide.md (WOO-27)**

Structure:
1. **Quick Reference Table** -- WooCommerce template hierarchy: Template File | Location | Purpose | Key Hooks. Cover: archive-product.php, content-product.php, single-product.php, content-single-product.php, cart/cart.php, checkout/form-checkout.php, myaccount/*.php, emails/*.php.

2. **Template Override Procedure** -- Step-by-step for theme developers:
   - Copy template from plugins/woocommerce/templates/ to theme/woocommerce/
   - Preserve directory structure (cart/, checkout/, emails/, etc.)
   - Child theme: childtheme/woocommerce/ (overrides parent theme's woocommerce/)
   - @version comment tracking: compare against WC version
   - WooCommerce System Status shows outdated templates
   - BAD: editing plugin files directly. GOOD: copy to theme woocommerce/ directory.

3. **Hooks-First Philosophy** -- The key teaching point:
   - Why hooks are preferred over template overrides: maintainability, compatibility, update safety
   - When hooks work: adding content before/after elements, modifying data, conditional display
   - When overrides are necessary: fundamentally restructuring layout, removing/reordering sections
   - If you must override: preserve ALL do_action() and apply_filters() calls
   - BAD: template override to add a badge. GOOD: hook into woocommerce_before_shop_loop_item_title.
   - Cross-reference wp-theme-development for general template patterns

4. **Shop Page (WOO-11)** --
   - archive-product.php: main shop page template
   - content-product.php: individual product in loop
   - Key hooks: woocommerce_before_shop_loop, woocommerce_after_shop_loop, woocommerce_before_shop_loop_item, woocommerce_after_shop_loop_item, woocommerce_before_shop_loop_item_title, woocommerce_shop_loop_item_title, woocommerce_after_shop_loop_item_title
   - Default hook priorities for each position
   - BAD: override content-product.php to add price badge. GOOD: add_action to woocommerce_after_shop_loop_item_title.

5. **Product Display (WOO-13)** --
   - single-product.php, content-single-product.php
   - Key hooks: woocommerce_before_single_product, woocommerce_before_single_product_summary, woocommerce_single_product_summary, woocommerce_after_single_product_summary, woocommerce_after_single_product
   - Product gallery: woocommerce_product_thumbnails
   - Tabs: woocommerce_product_tabs filter
   - Related products: woocommerce_output_related_products, woocommerce_related_products_args filter
   - Variations: woocommerce_available_variation filter

6. **Cart/Checkout Theming (WOO-12)** --
   - cart/cart.php: cart table, coupon field, cart totals
   - checkout/form-checkout.php: billing/shipping fields, payment methods, place order
   - Key cart hooks: woocommerce_before_cart, woocommerce_cart_contents, woocommerce_after_cart_table, woocommerce_cart_collaterals, woocommerce_after_cart
   - Key checkout hooks: woocommerce_before_checkout_form, woocommerce_checkout_before_customer_details, woocommerce_checkout_after_customer_details, woocommerce_checkout_before_order_review, woocommerce_review_order_before_payment
   - Checkout field customization: woocommerce_checkout_fields filter, field types, validation
   - BAD: override form-checkout.php for field changes. GOOD: woocommerce_checkout_fields filter.

7. **My Account Templates** --
   - myaccount/my-account.php, myaccount/navigation.php, myaccount/dashboard.php
   - Custom endpoints: woocommerce_account_menu_items filter, add_rewrite_endpoint()
   - Order details: myaccount/view-order.php

8. **Email Templates** --
   - WC_Email class extension for custom emails
   - Email template overrides: theme/woocommerce/emails/
   - Email hooks: woocommerce_email_header, woocommerce_email_footer, woocommerce_email_order_details
   - Custom email trigger: WC_Email subclass with trigger(), get_content_html(), get_content_plain()
   - BAD: wp_mail() directly. GOOD: WC_Email subclass with template.

9. **WooCommerce Blocks Compatibility** --
   - Block-based cart/checkout bypasses template overrides entirely
   - Template overrides in woocommerce/cart/ and woocommerce/checkout/ do NOT affect block cart/checkout
   - New stores default to block checkout (WC 8.3+)
   - Recommendation: use Block checkout with Additional Checkout Fields API for new stores
   - For existing stores: template overrides still work with classic cart/checkout
   - BAD: assuming template overrides work with block checkout. GOOD: checking which checkout is active.

10. **Template Anti-Patterns** --
    - CRITICAL: Template override with removed do_action() calls (breaks plugin integration)
    - CRITICAL: Template override with removed apply_filters() calls (breaks customization)
    - WARNING: Template override with outdated @version (missing WC updates)
    - WARNING: Template override in parent theme instead of child theme (lost on theme update)
    - INFO: Template override where hook could achieve same result
    - Detection patterns: grep for do_action in WC original vs overridden template, compare @version comments
    - Cross-reference wp-theme-development for general template override patterns

PHP examples follow WordPress PHP Coding Standards. BAD/GOOD pairs throughout. Cross-references to wp-theme-development for general template patterns.

**File 2: wc-performance-guide.md (WOO-28)**

Structure:
1. **Quick Reference Table** -- Performance patterns: Issue | Severity | Detection | Solution. Cover: cart fragments, product queries, HPOS migration, session handling, Action Scheduler, caching, variations, database optimization.

2. **Cart Fragments Analysis (WOO-15)** -- The most common WooCommerce performance complaint:
   - What are cart fragments: AJAX polling via wc-cart-fragments.js to update mini-cart count
   - The problem: loaded on every page by default (pre-WC 7.8), sends admin-ajax.php request on every page load, bypasses page cache
   - Impact: additional HTTP request per page view, server load, slower TTFB
   - Solution 1: Conditional dequeuing -- woocommerce_get_script_data filter, only load on WC pages (is_woocommerce(), is_cart(), is_checkout())
   - Solution 2: Mini-Cart Block -- WordPress block with built-in optimization, no fragments needed, renders server-side
   - Solution 3: Complete disable -- wp_deregister_script('wc-cart-fragments') when mini-cart not used
   - Detection: check if wc-cart-fragments.js loads on homepage/blog pages via browser dev tools
   - CRITICAL: site-wide loading with no dequeue. WARNING: loading on non-WC pages. INFO: Mini-Cart Block available.
   - BAD/GOOD pairs for each solution approach.

3. **WC_Product_Query Optimization (WOO-17)** --
   - Why: WC_Product_Query uses optimized queries, supports attribute lookup table, future-proof for custom product tables
   - wc_get_products() for simple queries, WC_Product_Query for complex queries
   - Common parameters: status, type, limit, page, offset, orderby, order, category, tag, sku, return ('objects' or 'ids')
   - Performance tips: use 'return' => 'ids' when you only need IDs, limit results, use specific fields
   - CRITICAL: direct SQL queries against wp_posts for products
   - WARNING: WP_Query with post_type=product (future-breaking)
   - INFO: missing object caching for repeated wc_get_product() calls
   - BAD: WP_Query for products. GOOD: WC_Product_Query with appropriate params.

4. **HPOS Performance Benefits** --
   - Why HPOS is faster: dedicated order tables (wp_wc_orders) vs shared wp_posts, purpose-built indexes, no post_type column filtering
   - Benchmarks: 5x faster order creation, 40x faster order filtering (from WC docs)
   - Migration: WooCommerce Settings > Advanced > Features, compatibility mode for gradual migration
   - Extension impact: extensions using CRUD APIs automatically benefit from HPOS performance

5. **Session Handling Performance (WOO-18)** --
   - WC_Session_Handler: stores session data in wp_woocommerce_sessions table
   - 30-day cap (WC 10.1+): maximum session duration enforced
   - Session cleanup: WC runs cleanup cron to delete expired sessions
   - Performance impact: large session tables slow queries, abandoned sessions accumulate
   - WARNING: wc_session_expiration filter returning > 30 days (capped, generates warning)
   - INFO: custom session implementations bypassing WC_Session_Handler
   - For long-term persistence: use custom database tables, not sessions

6. **Action Scheduler for Background Processing** --
   - Why over wp_cron: reliable (not traffic-dependent), retry logic, admin UI, scalable, queue management
   - Common WC use cases: order processing, inventory sync, report generation, bulk exports, email sending
   - Batch processing pattern: process N items -> schedule next batch if more -> recursion with safety limit
   - as_enqueue_async_action() for immediate background (use for webhooks, post-order processing)
   - as_schedule_single_action() for delayed processing
   - as_schedule_recurring_action() for periodic tasks (replaces wp_schedule_event)
   - Monitoring: WooCommerce > Status > Scheduled Actions
   - BAD: wp_schedule_event for hourly order sync. GOOD: as_schedule_recurring_action with batch processing.

7. **Transient and Object Caching Strategies** --
   - When to cache: repeated product loads, API responses, computed values (cart totals, shipping rates)
   - Transient API: set_transient(), get_transient(), delete_transient() for DB-backed cache
   - Object cache: wp_cache_set(), wp_cache_get() for persistent cache (if object cache available)
   - WooCommerce-specific: product transients (invalidated on product save), shipping rate transients
   - Invalidation: hook into woocommerce_product_save to clear product-related caches
   - BAD: computing shipping rate on every page load. GOOD: transient with cart hash as key.

8. **Variation Price Caching (WC 10.5+)** --
   - Problem: variable products with many variations cause slow price queries
   - WC 10.5 improvement: variation prices cached per product, invalidated on variation save
   - Product attribute lookup table (WC 6.3+): indexed attributes for faster product filtering
   - BAD: querying variation prices individually. GOOD: using WC's built-in variation price cache.

9. **Database Optimization** --
   - wp_postmeta index recommendations for WC stores
   - Autoloaded options: WC adds many autoloaded options, audit with query monitor
   - Transient cleanup: expired transients accumulate, WC handles cleanup but custom transients may not
   - Order count queries: use wc_orders_count() not wp_count_posts('shop_order') (HPOS-compatible)
   - BAD: COUNT(*) on wp_posts WHERE post_type=shop_order. GOOD: wc_orders_count().

10. **Query Monitoring Patterns** --
    - Tools: Query Monitor plugin, Debug Bar, WC logging (wc_get_logger())
    - Common slow queries: order listing, product filtering, session table scans
    - N+1 pattern in WC: loading order items individually instead of batch
    - Cross-reference wp-performance-review for general query optimization patterns

PHP examples follow WordPress PHP Coding Standards. BAD/GOOD pairs throughout. Cross-references to wp-performance-review for general performance patterns.
  </action>
  <verify>
- `skills/wp-woocommerce-dev/references/wc-template-guide.md` exists with 350+ lines
- `skills/wp-woocommerce-dev/references/wc-performance-guide.md` exists with 350+ lines
- Both files have quick reference tables at the top
- Both use cookbook format (table + patterns + edge cases)
- PHP examples follow WordPress PHP Coding Standards
- BAD/GOOD pairs present throughout
- wc-template-guide.md covers template hierarchy, override procedure, hooks-first philosophy, shop/product/cart/checkout/email theming, WC Blocks compatibility, anti-patterns
- wc-performance-guide.md covers cart fragments analysis, WC_Product_Query optimization, HPOS performance, session handling, Action Scheduler, caching strategies, variation price caching, database optimization
- Cross-references to wp-theme-development in template guide
- Cross-references to wp-performance-review in performance guide
  </verify>
  <done>
wc-template-guide.md provides comprehensive WooCommerce template reference including template hierarchy (archive-product, content-product, single-product, cart, checkout, myaccount, emails), proper override procedure with version tracking, hooks-first philosophy with specific hook catalogs per template area, shop page customization, product display patterns, cart/checkout theming with field customization, email template customization, WC Blocks compatibility notes, and template anti-pattern detection. wc-performance-guide.md provides thorough performance optimization coverage including cart fragments analysis (problem, conditional dequeuing, Mini-Cart Block alternative), WC_Product_Query optimization, HPOS performance benefits, session handling (30-day cap, cleanup), Action Scheduler background processing with batch patterns, transient and object caching strategies, variation price caching (WC 10.5+), database optimization, and query monitoring patterns. Both follow cookbook format with WordPress PHP Coding Standards and BAD/GOOD pairs.
  </done>
</task>

</tasks>

<verification>
- All 3 reference docs exist in `skills/wp-woocommerce-dev/references/`
- Each has quick reference table at top (cookbook format)
- Total line count across all 3 files is 1200+ lines
- BAD/GOOD code pairs used throughout
- PHP examples follow WordPress PHP Coding Standards
- Cross-references between reference docs present
- Security-relevant patterns reference wp-security-review skill
- Plugin architecture patterns reference wp-plugin-development skill
- Theme template patterns reference wp-theme-development skill
- Performance patterns reference wp-performance-review skill
- wc-extension-guide.md covers WOO-26 requirements (complete extension development reference)
- wc-template-guide.md covers WOO-27 requirements (template and theming reference)
- wc-performance-guide.md covers WOO-28 requirements (performance optimization reference)
</verification>

<success_criteria>
- All 3 reference docs provide deep-dive companion content to SKILL.md
- Any topic mentioned in SKILL.md that says "see references" has corresponding depth in a reference doc
- PHP code examples are copy-pasteable and follow WordPress PHP Coding Standards
- A Claude instance could load any reference doc to get comprehensive guidance on that topic
- HPOS migration checklist is actionable (not just theory)
- Payment gateway security patterns are practical code-level detection
- Cart fragments analysis provides clear problem statement and multiple solutions
- Template hooks-first philosophy is well-illustrated with specific hook names and priorities
</success_criteria>

<output>
After completion, create `.planning/phases/05-woocommerce-development/05-02-SUMMARY.md`
</output>
